const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B5vbnELA.js","assets/WindowActionIcons-BqLpjiuN.js","assets/useTitlebarContextMenu-02_sHBKy.js","assets/index-Bo_0AlUO.js"])))=>i.map(i=>d[i]);
import{jsxs as V,jsx as m,Fragment as ze}from"react/jsx-runtime";import Dr from"react-dom";import tt,{createContext as Lr,memo as X,useContext as Wr,useState as z,useEffect as F,useRef as q,useCallback as S,forwardRef as kr,useMemo as G,useLayoutEffect as Nr,lazy as Xt}from"react";import{basename as Ut,join as jr,dirname as Fr,extname as zt}from"path-browserify";import{v4 as Mt}from"uuid";import B,{useTheme as Kt,css as $r,ThemeProvider as Br}from"styled-components";import{m as Hr,LazyMotion as qr,AnimatePresence as nt}from"framer-motion";import{DragDropContext as Xr,Droppable as Ur,Draggable as Kr}from"@hello-pangea/dnd";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function a(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(c){if(c.ep)return;c.ep=!0;const l=a(c);fetch(c.href,l)}})();var ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Je={},Rt=Dr;Je.createRoot=Rt.createRoot,Je.hydrateRoot=Rt.hydrateRoot;const Y=(e,n)=>{const a=Lr(Object.create(null));return{Context:a,Provider:X(({children:o,...c})=>V(a.Provider,{value:e(c),children:[o,n]})),useContext:()=>Wr(a)}},Vr="local",Gt="win11",Gr="/img0.jpg",Yr="fill",Qr=68,Mi={height:510,width:640},Me={tabIndex:-1},Yt={as:"div",role:"button",...Me},Jr="/Users/Public",Ri=200,Qt=new Set([".heic",".heics",".heif",".heifs",".avci",".avcs"]),rt=new Set([".cr2",".dng",".nef",".tif",".tiff"]),Zr=new Set([...Qt,...rt,".ani",".apng",".avif",".bmp",".cur",".gif",".ico",".jfif",".jif",".jpe",".jpeg",".jpg",".jxl",".pjp",".pjpeg",".png",".svg",".qoi",".webp",".xbm"]);[...Qt,...rt];const Ve={seperator:!0},Dt=1e3,eo={once:!0,passive:!0},Re={preventScroll:!0},ge={DOUBLE_CLICK:500,LONG_PRESS:500,MOUSE_IN_OUT:300,TASKBAR_ITEM:400,WINDOW:200},to={TASKBAR_ITEM:ge.TASKBAR_ITEM/Dt,WINDOW:ge.WINDOW/Dt},Di=750,no=new Set([".aac",".oga",".wav"]),ro=new Set([".asx",".m3u",".pls"]),oo=new Set([".m4v",".mkv",".mov",".mp4",".ogg",".ogm",".ogv",".webm"]);[...no,...ro,...Zr,...rt,...oo];const so="/System",Jt=`${so}/Icons`,ot=`${Jr}/Icons`,io=`${ot}/Cache`,Lt={64:96},ao={desktop:[16,32],document:[16,32],folder:[16,16],mounted:[16,16],music:[16,32],pc:[16,16],pictures:[16,32],user:[16,16],videos:[16,32]},co=[3,2,1],lo=[16,32,48,96,144],uo=144,Li=17,Zt=48,Wi={fetchpriority:"high"};let Te;const fo=()=>(typeof Te=="number"||(Te=Math.min(Math.ceil(window.devicePixelRatio),3)),Te);let Ge=[];const po=(e,n,a)=>{const o=n.length>0&&!n.some(l=>{var f;return!((f=e[l])!=null&&f.minimized)}),c=o?[...n].reverse():n;o||(Ge=[]),c.forEach(l=>{var f;o?Ge.includes(l)&&a(l):(f=e[l])!=null&&f.minimized||(Ge.push(l),a(l))}),o&&requestAnimationFrame(()=>{var l,f;return(f=(l=e[n[0]])==null?void 0:l.componentWindow)==null?void 0:f.focus(Re)})},se=(e,n,a,o)=>{const c=Ut(e,".webp"),[l,f]=ao[c]||[],d=n*a,g=Math.min(uo,l===n?Math.min(f,d):d);return`${jr(Fr(e),`${Lt[g]||g}x${Lt[g]||g}`,`${c}${o}`).replace(/\\/g,"/")}${a>1?` ${a}x`:""}`},en=(e,n,a,o=[])=>{const c=[se(e,n,1,a),se(e,n,2,a),se(e,n,3,a)].filter(l=>o.length===0||o.includes(l.split(" ")[0])).join(", ");return o!=null&&o.includes(c)?"":c},ho=(e,n)=>{const a=new Set(new Set(n.map(c=>{const l=Ut(e,zt(e));return Number(c.replace(`${Jt}/`,"").replace(`${ot}/`,"").replace(`/${l}.png`,"").replace(`/${l}.webp`,"").split("x")[0])})));return lo.filter(c=>!a.has(c)).map(c=>se(e,c,1,zt(e))).reverse().join(", ")},go=e=>URL.revokeObjectURL(e),Wt=(e=0)=>typeof e=="number"?e:Number.parseFloat(e),mo=()=>window.innerHeight,wo=()=>window.innerWidth,Oe=e=>({width:e.clientWidth,height:e.clientHeight}),ki=({offsetHeight:e},{right:n=0,left:a=0,top:o=0,bottom:c=0}={},{width:l=0,height:f=0}={})=>{const[d,g]=[mo(),wo()];return{x:Wt(l)>=g?0:a||g-n,y:Wt(f)+Zt>=d?0:o||d-c-e}},Ni=e=>{var c;if(!(e instanceof HTMLCanvasElement)||e.width===0||e.height===0)return!1;const{data:n=[]}=((c=e.getContext("2d",{willReadFrequently:!0}))==null?void 0:c.getImageData(0,0,e.width,e.height))||{};if(n.length===0)return!1;const a={0:0,255:0};for(const l of n){if(l!==0&&l!==255)return!0;a[l]+=1}return!(a[0]===n.length||a[255]===n.length||a[255]+a[0]===n.length&&a[0]/3===a[255])};let _e;const vo=()=>typeof window>"u"?!1:((_e??!1)||(_e=/firefox/i.test(window.navigator.userAgent)),_e);let Ae;const tn=()=>typeof window>"u"?!1:((Ae??!1)||(Ae=/^(?:(?!chrome|android).)*safari/i.test(window.navigator.userAgent)),Ae),Ze=e=>{try{e.cancelable&&(e.preventDefault(),e.stopPropagation())}catch{}},xo=e=>({"aria-label":e,title:e});function nn(){return Math.floor(Date.now()*Math.random())}const rn=e=>typeof e=="string"&&(e.startsWith(Jt)||e.startsWith(ot)&&!e.startsWith(io)),bo=["MetaLeft","MetaRight","Escape"],yo=async(e,n)=>{try{e.requestFullscreen?await e.requestFullscreen(n):e.mozRequestFullScreen?await e.mozRequestFullScreen(n):e.webkitRequestFullscreen&&await e.webkitRequestFullscreen(n)}catch{}},kt=async()=>{const e=document;try{e.exitFullscreen?await e.exitFullscreen():e.mozCancelFullScreen?await e.mozCancelFullScreen():e.webkitExitFullscreen&&await e.webkitExitFullscreen()}catch{}},Eo=async e=>{var n,a,o,c;try{e===document.documentElement?await((a=(n=navigator==null?void 0:navigator.keyboard)==null?void 0:n.lock)==null?void 0:a.call(n,bo)):(c=(o=navigator==null?void 0:navigator.keyboard)==null?void 0:o.unlock)==null||c.call(o)}catch{}},So=()=>{const[e,n]=z(null),a=async(o,c)=>{e&&(!o||o===e)?await kt():(e&&(vo()||tn())&&await kt(),await yo(o||document.documentElement,{navigationUI:c||"hide"}))};return F(()=>{const o=()=>{const{mozFullScreenElement:c,webkitFullscreenElement:l}=document,f=document.fullscreenElement||c||l;Eo(f).then(()=>n(f))};return document.addEventListener("fullscreenchange",o,{passive:!0}),()=>document.removeEventListener("fullscreenchange",o)},[]),{fullscreenElement:e,toggleFullscreen:a}},{Provider:Po,useContext:To}=Y(So);var _o="Expected a function",Nt=NaN,Ao="[object Symbol]",Oo=/^\s+|\s+$/g,Io=/^[-+]0x[0-9a-f]+$/i,Co=/^0b[01]+$/i,zo=/^0o[0-7]+$/i,Mo=parseInt,Ro=typeof ee=="object"&&ee&&ee.Object===Object&&ee,Do=typeof self=="object"&&self&&self.Object===Object&&self,Lo=Ro||Do||Function("return this")(),Wo=Object.prototype,ko=Wo.toString,No=Math.max,jo=Math.min,Ye=function(){return Lo.Date.now()};function Fo(e,n,a){var o,c,l,f,d,g,w=0,i=!1,u=!1,p=!0;if(typeof e!="function")throw new TypeError(_o);n=jt(n)||0,et(a)&&(i=!!a.leading,u="maxWait"in a,l=u?No(jt(a.maxWait)||0,n):l,p="trailing"in a?!!a.trailing:p);function h(T){var _=o,O=c;return o=c=void 0,w=T,f=e.apply(O,_),f}function v(T){return w=T,d=setTimeout(b,n),i?h(T):f}function E(T){var _=T-g,O=T-w,j=n-_;return u?jo(j,l-O):j}function P(T){var _=T-g,O=T-w;return g===void 0||_>=n||_<0||u&&O>=l}function b(){var T=Ye();if(P(T))return y(T);d=setTimeout(b,E(T))}function y(T){return d=void 0,p&&o?h(T):(o=c=void 0,f)}function A(){d!==void 0&&clearTimeout(d),w=0,o=g=c=d=void 0}function N(){return d===void 0?f:y(Ye())}function W(){var T=Ye(),_=P(T);if(o=arguments,c=this,g=T,_){if(d===void 0)return v(g);if(u)return d=setTimeout(b,n),h(g)}return d===void 0&&(d=setTimeout(b,n)),f}return W.cancel=A,W.flush=N,W}function et(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function $o(e){return!!e&&typeof e=="object"}function Bo(e){return typeof e=="symbol"||$o(e)&&ko.call(e)==Ao}function jt(e){if(typeof e=="number")return e;if(Bo(e))return Nt;if(et(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=et(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(Oo,"");var a=Co.test(e);return a||zo.test(e)?Mo(e.slice(2),a?2:8):Io.test(e)?Nt:+e}var Ho=Fo;const qo=Vt(Ho),Ie=()=>{const e={},n={},a=[],o={},c={},l=i=>{c[i]&&clearTimeout(c[i]),c[i]=setTimeout(()=>{delete o[i],delete c[i]},5e3)},f=(i,u,...p)=>{o[i]||(o[i]=[]),o[i].push(p),setTimeout(()=>{d(i)},u)},d=i=>{const u=e[i];u&&(o[i].forEach(p=>{Object.keys(u).forEach(h=>{const{once:v,func:E}=u[h];E(...p),v&&delete u[h]})}),delete o[i])},g=qo((i,u)=>{const p=e[i],h=Object.keys(n).filter(v=>n[v].regex.test(i));p||h.length>0?(p&&Object.keys(p).forEach(v=>{const{once:E,func:P}=p[v];P(...u),E&&delete p[v]}),h.forEach(v=>{Object.keys(n[v].ids).forEach(E=>{const{once:P,func:b}=n[v].ids[E];b(...u),P&&delete n[v].ids[E]})})):(o[i]||(o[i]=[]),o[i].push(u))},100),w={emit(i,...u){(Array.isArray(i)?i:[i]).forEach(h=>{a.length>0&&a.forEach(v=>v(h,...u)),g(h,u)})},on(i,u){const p=Mt(),h={func:u};if(i.includes("*")){const v=new RegExp("^"+i.replace("*",".*")+"$");n[i]||(n[i]={regex:v,ids:{}}),n[i].ids[p]=h}else e[i]||(e[i]={}),e[i][p]=h;if(o[i]){const v=[...o[i]];delete o[i],v.forEach(E=>u(...E)),l(i)}return p},once(i,u){const p=Mt(),h={once:!0,func:u};if(i.includes("*")){const v=new RegExp("^"+i.replace("*",".*")+"$");n[i]||(n[i]={regex:v,ids:{}}),n[i].ids[p]=h}else e[i]||(e[i]={}),e[i][p]=h;if(o[i]){const v=[...o[i]];delete o[i],v.forEach(E=>u(...E)),l(i)}return p},off(i,u){if(i.includes("*")){const p=n[i];if(!p)return!1;Object.keys(p.ids).forEach(h=>{p.ids[h].func===u&&delete p.ids[h]})}else{const p=e[i];if(!p)return!1;Object.keys(p).forEach(h=>{p[h].func===u&&delete p[h]})}return!0},removeListenerByID(i){return Object.keys(e).forEach(u=>{w.removeListenerByEventAndID(u,i)}),Object.keys(n).forEach(u=>{w.removeListenerByEventAndID(u,i)}),!0},removeListenerByEventAndID(i,u){if(i.includes("*")){const p=n[i];if(!p)return!0;delete p.ids[u]}else{const p=e[i];if(!p)return!0;delete p[u]}return!0},onEmit(i){a.push(i)},addToQueueWithTimeout:f,handleTimeout:d};return{...w,eventsCache:e,patternCache:n,eventQueue:o}};Ie();const Xo=()=>{const e=q(Ie()),n=q(Ie());return{events:e.current,actions:n.current}},{Provider:Uo,useContext:me}=Y(Xo),Ko=()=>{const[e,n]=z(Object.create(null)),[a,o]=z(Object.create(null)),{events:c}=me(),l=q(Object.create(null)),f=S((d,g)=>{var u;const w=l.current;w[d]&&((u=w[d])==null||u.unobserve(g));const i=new ResizeObserver(()=>{o(p=>({...p,[d+"Size"]:Oe(g)})),c.emit("event:elements/resize/windowsview",Oe(g))});i.observe(g),o(p=>({...p,[d+"Size"]:Oe(g)})),l.current={...w,[d]:i},n(p=>({...p,[d]:g}))},[c]);return{...a,...e,linkElement:f}},{Provider:Vo,useContext:on}=Y(Ko),Go=X(({className:e})=>m("svg",{className:e,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:m("path",{d:"M8.047 30.547L22.578 16 8.047 1.453 9.453.047 25.422 16 9.453 31.953l-1.406-1.406z"})})),Yo=X(({className:e})=>{const{colors:n}=Kt();return m("svg",{className:e,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:m("path",{d:"M28.703 8.703l-16.703 16.719-8.703-8.719 1.406-1.406 7.297 7.281 15.297-15.281z",stroke:n.text,strokeWidth:"2"})})}),Qo=X(({className:e})=>m("svg",{className:e,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:m("path",{d:"M16 10q1.234 0 2.328.469t1.914 1.289 1.289 1.914T22 16q0 1.25-.469 2.336t-1.289 1.906-1.914 1.289T16 22q-1.25 0-2.336-.469t-1.906-1.289-1.289-1.906T10 16q0-1.234.469-2.328t1.289-1.914 1.906-1.289T16 10z"})}));X(()=>m("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:m("path",{d:"M22 24l2-2v6h-24v-20h2v18h20v-2zM20 16q-2 0-3.914 0.398t-3.695 1.172-3.398 1.891-2.992 2.539v-2q0-1.938 0.5-3.727t1.414-3.344 2.188-2.828 2.828-2.188 3.344-1.414 3.727-0.5v-6l11 11-11 11v-6zM21.578 8q-0.875 0-1.641 0.016t-1.516 0.102-1.5 0.281-1.594 0.539q-1.359 0.563-2.523 1.438t-2.078 1.992-1.547 2.422-0.93 2.742q2.625-1.75 5.609-2.641t6.141-0.891h2v3.172l6.172-6.172-6.172-6.172v3.172h-0.422z"})}));const De=$r`
  border: 0px;
  box-sizing: border-box;
  font-variant-numeric: tabular-nums;
  margin: 0px;
  outline: 0px;
  padding: 0px;
  text-rendering: optimizelegibility;
`,Jo=e=>{e.target instanceof HTMLTextAreaElement||e.preventDefault()},sn=B.button.attrs(({as:e})=>({onKeyDown:Jo,type:!e||e==="button"?"button":void 0}))`
  ${De}
  background-color: transparent;
  font-family: inherit;
  max-width: ${({$short:e})=>e?"31px":void 0};
  width: 100%;
`,Zo=B.img.attrs(({$eager:e=!1,$height:n,$width:a})=>({decoding:"async",draggable:!1,fetchpriority:e?"high":void 0,height:n,loading:e?"eager":"lazy",width:a}))`
  ${De}
  aspect-ratio: 1;
  user-select: none;
  left: ${({$offset:e})=>e||void 0};
  max-height: ${({$height:e})=>e}px;
  max-width: ${({$width:e})=>e}px;
  min-height: ${({$height:e})=>e}px;
  min-width: ${({$width:e})=>e}px;
  object-fit: contain;
  opacity: ${({$moving:e})=>e?"50%":"100%"};
  pointer-events: none;
  top: ${({$offset:e})=>e||void 0};
  visibility: ${({$loaded:e})=>e?"visible":"hidden"};
`,es=kr((e,n)=>{const[a,o]=z(!1),{displaySize:c=0,imgSize:l=0,src:f="",...d}=e,g=rn(f),w=G(()=>{const h=c>l?l:c||l,v=c>l?`${c-l}px`:0;return{$height:h,$offset:v,$width:h}},[c,l]),[i,u]=z([]);F(()=>()=>{a&&f.startsWith("blob:")&&go(f)},[a,f]);const p=m(Zo,{ref:n,$loaded:a,onError:({target:h})=>{const{currentSrc:v=""}=h||{};try{const{pathname:E}=new URL(v);E&&!i.includes(E)&&u(P=>[...P,E])}catch{}},onLoad:()=>o(!0),src:g?se(f,l,1,".png"):f||void 0,srcSet:g?en(f,l,".png",i)||(i.length===0?"":ho(f,i)):void 0,...d,...w});return V("picture",{children:[g&&co.map(h=>{const v=se(f,l,h,".webp"),E=h-.99;return i.length>0&&i.includes(v.split(" ")[0])?null:m("source",{media:h>1?`(min-resolution: ${E}x), (-webkit-min-device-pixel-ratio: ${E})`:void 0,srcSet:v,type:"image/webp"},h)}),p]})}),an=X(es),ts=({action:e,checked:n,disabled:a,icon:o,isSubMenu:c,label:l,menu:f,primary:d,resetMenu:g,seperator:w,SvgIcon:i,toggle:u,tooltip:p})=>{const h=q(null),[v,E]=z(cn),[P,b]=z(!1),{sizes:y}=Kt(),A=q(0),[N,W]=z(!1),T=G(()=>window.matchMedia("(hover: hover)").matches,[]),_=S(k=>{A.current&&(window.clearTimeout(A.current),A.current=0),A.current=window.setTimeout(()=>b(k),ge.MOUSE_IN_OUT)},[]),O=()=>{W(!0),f&&_(!0)},j=({relatedTarget:k,type:J})=>{var te;(!(k instanceof HTMLElement)||!((te=h.current)!=null&&te.contains(k)))&&(W(!1),J==="mouseleave"?_(!1):b(!1))},$=f?{onBlur:j,onMouseEnter:O,onMouseLeave:j}:{},U=S(k=>{Ze(k),f?b(!0):(e==null||e(),g())},[e,f,g]);return F(()=>{const k=h.current,J=!c&&f&&!P,te=Le=>{J&&(Ze(Le),k==null||k.focus(Re)),f&&b(!0)};return k==null||k.addEventListener("touchstart",te,{passive:!J}),()=>k==null?void 0:k.removeEventListener("touchstart",te)},[c,f,P]),Nr(()=>{if(f&&h.current){const{height:k,width:J}=h.current.getBoundingClientRect();E({x:J-y.contextMenu.subMenuOffset,y:0-k-y.contextMenu.subMenuOffset})}},[f,y.contextMenu.subMenuOffset]),V("li",{ref:h,className:a?"disabled":void 0,title:p,...Me,...f&&$,children:[w?m("hr",{}):V(sn,{"aria-label":l,className:P&&(!T||N)?"active":void 0,onMouseUp:U,...Yt,children:[o&&(new RegExp("\\p{Emoji_Presentation}","u").test(o)?m("span",{children:o}):m(an,{alt:l,imgSize:16,src:o})),n&&m(Yo,{className:"left"}),u&&m(Qo,{className:"left"}),i&&m("div",{className:"icon",children:m(i,{})}),m("figcaption",{className:d?"primary":void 0,children:l}),f&&m(Go,{className:"right"})]}),P&&f&&m(ln,{subMenu:{items:f,...v}})]})},ns=B(Hr.nav).attrs(({$x:e,$y:n})=>({style:{transform:`translate(${e}px, ${n}px)`}}))`
  ${De}
  background-color: rgb(43, 43, 43);
  border: 1px solid rgb(160, 160, 160);
  box-shadow:
    1px 1px 1px hsla(0, 0%, 20%, 70%),
    2px 2px 2px hsla(0, 0%, 10%, 70%);
  color: rgb(255, 255, 255);
  contain: layout;
  font-size: 12px;
  max-height: fit-content;
  max-width: fit-content;
  padding: 4px 2px;
  position: fixed;
  width: max-content;
  z-index: ${({$isSubMenu:e})=>1e4+(e?1:0)};

  ol {
    list-style: none; /* Remove list style */
    cursor: pointer;
    padding: 0;
    margin: 0;

    li.disabled {
      color: rgb(110, 110, 110);
      pointer-events: none;
    }

    hr {
      background-color: rgb(128, 128, 128);
      height: 1px;
      margin: 3px 8px;
    }

    li > div {
      display: flex;
      padding: 3px 0;

      &:hover,
      &.active {
        background-color: rgb(65, 65, 65);
      }

      figcaption {
        display: flex;
        height: 16px;
        line-height: 16px;
        margin-left: 32px;
        margin-right: 64px;
        place-items: center;
        position: relative;
        top: -1px;
        white-space: nowrap;
        width: max-content;

        &.primary {
          font-weight: 700;
        }
      }

      picture {
        margin: 0 -24px 0 8px;
      }

      span {
        margin: -1px -24px 0 8px;
      }

      svg {
        fill: #fff;
        height: 13px;
        margin-top: 1px;
        position: absolute;
        width: 13px;

        &.left {
          left: 8px;
        }

        &.right {
          right: 8px;
        }
      }

      .icon > svg {
        height: 15px;
        left: 10px;
        width: 15px;
      }
    }
  }
`,rs={animate:{opacity:1},initial:{opacity:0},transition:{duration:to.WINDOW}},cn=()=>({x:0,y:0}),ln=({subMenu:e})=>{const{menu:n={},setMenu:a}=un(),{items:o,staticX:c=0,staticY:l=0,x:f=0,y:d=0}=e||n||{},[g,w]=z(cn()),i=q(null),{WindowsViewArea:u,WindowsViewAreaSize:p}=on(),h=S(({relatedTarget:y}={})=>{var A;(!(y instanceof HTMLElement)||!((A=i.current)!=null&&A.contains(y)))&&a(Object.create(null))},[a]),v=!!e,E=q({}),P=S(()=>{var j;if(!i.current||E.current.x===f&&E.current.y===d)return;E.current={x:f,y:d};const{height:y=0,width:A=0,x:N=0,y:W=0}=((j=i.current)==null?void 0:j.getBoundingClientRect())||{},{height:T,width:_}=u?Oe(u):p,O={x:0,y:0};if(!c){const $=!!e&&N+A>_;O.x=Math.round(Math.max(0,f+A-_))+($?Math.round(A+((e==null?void 0:e.x)||0)):0);const U=$&&N-O.x<0?O.x-(O.x-N):0;U>0&&(O.x=U)}if(!l){const $=d+y>T?T-d:0,U=$+y>T?0:$,k=!!e&&W+y>T;O.y=Math.round(Math.max(0,d+y-(T-U)))+(k?Math.round(y+((e==null?void 0:e.y)||0)):0)}w(O)},[c,l,e,f,d,u]),b=S(y=>{i.current=y,P()},[P]);return F(()=>{var y;(y=e||n)!=null&&y.items&&(f||d)&&P()},[n,P,e,f,d]),F(()=>{var y;if(o&&!e){const A=document.activeElement;if(A instanceof HTMLElement&&A!==document.body){const N={capture:!0,...eo},W=({relatedTarget:T,type:_})=>{var O;(!(T instanceof HTMLElement)||!((O=i.current)!=null&&O.contains(T)))&&h(),A.removeEventListener(_==="click"?"blur":"click",W,{capture:!0})};A.addEventListener("click",W,N),A.addEventListener("blur",W,N)}else(y=i.current)==null||y.focus(Re)}},[o,h,e]),F(()=>{o||(E.current={})},[o,g.x,g.y,e]),F(()=>{const y=({key:A})=>{A==="Escape"&&h()};return o&&window.addEventListener("keydown",y,{passive:!0}),()=>window.removeEventListener("keydown",y)},[o,h]),o?m(ns,{ref:b,$isSubMenu:v,$x:c||f-g.x,$y:l||d-g.y,onBlurCapture:h,onContextMenu:Ze,...rs,...Me,children:m("ol",{children:o.map((y,A)=>m(ts,{isSubMenu:v,resetMenu:h,...y},`${y.label||"item"}-${A}`))})}):null},os=()=>{const[e,n]=z(Object.create(null)),a=q(0),o=q();return{contextMenu:S(l=>{const f=(d,g,w)=>{var E,P;const{staticX:i,staticY:u}=w||{};let p=0,h=0;if(d){d.cancelable&&d.preventDefault(),{pageX:p,pageY:h}="touches"in d&&((P=(E=d.touches).item)==null?void 0:P.call(E,0))||d;const{scrollX:b,scrollY:y}=window;p+=b,h+=y}else if(g){const{height:b,x:y,y:A}=g;p=y,h=A+b;const{scrollX:N,scrollY:W}=window;p+=N,h+=W}const v=l(d);n({items:v.length>0?v:void 0,staticX:i,staticY:u,x:p,y:h})};return{onContextMenuCapture:f,...tn()&&{onTouchEnd:d=>{o.current&&(d.preventDefault(),f(o.current),o.current=void 0),window.clearTimeout(a.current)},onTouchMove:()=>{o.current=void 0,window.clearTimeout(a.current)},onTouchStart:d=>{window.clearTimeout(a.current),a.current=window.setTimeout(()=>{o.current=d},ge.LONG_PRESS)}}}},[]),menu:e,setMenu:n}},{Provider:ss,useContext:un}=Y(os,m(ln,{})),is=(e,n)=>a=>{var l;const{[e]:o,...c}=a;return o.windowIDs&&o.windowIDs.length>0&&((l=o.windowIDs)==null||l.forEach(f=>n.emit("action:windows/close_transition",f))),c},as=(e,n)=>a=>({...a,[e]:{id:e,...n}}),cs=()=>{const[e,n]=z(Object.create(null)),{events:a,actions:o}=me(),c=S(g=>{n(is(g,o))},[o]),l=S(g=>{const w=nn().toString();return n(as(w,g)),a.emit("event:processes/new_process",{id:w,...g}),w},[a]),f=S((g,w)=>{},[]),d=S((g,w)=>{},[]);return F(()=>{const g=[o.on("action:processes/create_process",l)];return()=>{g.forEach(w=>o.removeListenerByID(w))}},[o,l]),{processes:e,close:c,createProcess:l,addWindowIDToProcess:f,removeWindowIDFromProcess:d}},{Provider:ls,useContext:st}=Y(cs);var Ce={exports:{}};Ce.exports;(function(e,n){var a=200,o="__lodash_hash_undefined__",c=800,l=16,f=9007199254740991,d="[object Arguments]",g="[object Array]",w="[object AsyncFunction]",i="[object Boolean]",u="[object Date]",p="[object Error]",h="[object Function]",v="[object GeneratorFunction]",E="[object Map]",P="[object Number]",b="[object Null]",y="[object Object]",A="[object Proxy]",N="[object RegExp]",W="[object Set]",T="[object String]",_="[object Undefined]",O="[object WeakMap]",j="[object ArrayBuffer]",$="[object DataView]",U="[object Float32Array]",k="[object Float64Array]",J="[object Int8Array]",te="[object Int16Array]",Le="[object Int32Array]",pn="[object Uint8Array]",hn="[object Uint8ClampedArray]",gn="[object Uint16Array]",mn="[object Uint32Array]",wn=/[\\^$.*+?()[\]{}|]/g,vn=/^\[object .+?Constructor\]$/,xn=/^(?:0|[1-9]\d*)$/,R={};R[U]=R[k]=R[J]=R[te]=R[Le]=R[pn]=R[hn]=R[gn]=R[mn]=!0,R[d]=R[g]=R[j]=R[i]=R[$]=R[u]=R[p]=R[h]=R[E]=R[P]=R[y]=R[N]=R[W]=R[T]=R[O]=!1;var ct=typeof ee=="object"&&ee&&ee.Object===Object&&ee,bn=typeof self=="object"&&self&&self.Object===Object&&self,ue=ct||bn||Function("return this")(),lt=n&&!n.nodeType&&n,fe=lt&&!0&&e&&!e.nodeType&&e,ut=fe&&fe.exports===lt,We=ut&&ct.process,ft=function(){try{var t=fe&&fe.require&&fe.require("util").types;return t||We&&We.binding&&We.binding("util")}catch{}}(),dt=ft&&ft.isTypedArray;function yn(t,r,s){switch(s.length){case 0:return t.call(r);case 1:return t.call(r,s[0]);case 2:return t.call(r,s[0],s[1]);case 3:return t.call(r,s[0],s[1],s[2])}return t.apply(r,s)}function En(t,r){for(var s=-1,x=Array(t);++s<t;)x[s]=r(s);return x}function Sn(t){return function(r){return t(r)}}function Pn(t,r){return t==null?void 0:t[r]}function Tn(t,r){return function(s){return t(r(s))}}var _n=Array.prototype,An=Function.prototype,we=Object.prototype,ke=ue["__core-js_shared__"],ve=An.toString,Z=we.hasOwnProperty,pt=function(){var t=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ht=we.toString,On=ve.call(Object),In=RegExp("^"+ve.call(Z).replace(wn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xe=ut?ue.Buffer:void 0,gt=ue.Symbol,mt=ue.Uint8Array;xe&&xe.allocUnsafe;var wt=Tn(Object.getPrototypeOf,Object),vt=Object.create,Cn=we.propertyIsEnumerable,zn=_n.splice,ne=gt?gt.toStringTag:void 0,be=function(){try{var t=Fe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Mn=xe?xe.isBuffer:void 0,xt=Math.max,Rn=Date.now,bt=Fe(ue,"Map"),de=Fe(Object,"create"),Dn=function(){function t(){}return function(r){if(!oe(r))return{};if(vt)return vt(r);t.prototype=r;var s=new t;return t.prototype=void 0,s}}();function re(t){var r=-1,s=t==null?0:t.length;for(this.clear();++r<s;){var x=t[r];this.set(x[0],x[1])}}function Ln(){this.__data__=de?de(null):{},this.size=0}function Wn(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}function kn(t){var r=this.__data__;if(de){var s=r[t];return s===o?void 0:s}return Z.call(r,t)?r[t]:void 0}function Nn(t){var r=this.__data__;return de?r[t]!==void 0:Z.call(r,t)}function jn(t,r){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=de&&r===void 0?o:r,this}re.prototype.clear=Ln,re.prototype.delete=Wn,re.prototype.get=kn,re.prototype.has=Nn,re.prototype.set=jn;function Q(t){var r=-1,s=t==null?0:t.length;for(this.clear();++r<s;){var x=t[r];this.set(x[0],x[1])}}function Fn(){this.__data__=[],this.size=0}function $n(t){var r=this.__data__,s=ye(r,t);if(s<0)return!1;var x=r.length-1;return s==x?r.pop():zn.call(r,s,1),--this.size,!0}function Bn(t){var r=this.__data__,s=ye(r,t);return s<0?void 0:r[s][1]}function Hn(t){return ye(this.__data__,t)>-1}function qn(t,r){var s=this.__data__,x=ye(s,t);return x<0?(++this.size,s.push([t,r])):s[x][1]=r,this}Q.prototype.clear=Fn,Q.prototype.delete=$n,Q.prototype.get=Bn,Q.prototype.has=Hn,Q.prototype.set=qn;function ae(t){var r=-1,s=t==null?0:t.length;for(this.clear();++r<s;){var x=t[r];this.set(x[0],x[1])}}function Xn(){this.size=0,this.__data__={hash:new re,map:new(bt||Q),string:new re}}function Un(t){var r=Se(this,t).delete(t);return this.size-=r?1:0,r}function Kn(t){return Se(this,t).get(t)}function Vn(t){return Se(this,t).has(t)}function Gn(t,r){var s=Se(this,t),x=s.size;return s.set(t,r),this.size+=s.size==x?0:1,this}ae.prototype.clear=Xn,ae.prototype.delete=Un,ae.prototype.get=Kn,ae.prototype.has=Vn,ae.prototype.set=Gn;function ce(t){var r=this.__data__=new Q(t);this.size=r.size}function Yn(){this.__data__=new Q,this.size=0}function Qn(t){var r=this.__data__,s=r.delete(t);return this.size=r.size,s}function Jn(t){return this.__data__.get(t)}function Zn(t){return this.__data__.has(t)}function er(t,r){var s=this.__data__;if(s instanceof Q){var x=s.__data__;if(!bt||x.length<a-1)return x.push([t,r]),this.size=++s.size,this;s=this.__data__=new ae(x)}return s.set(t,r),this.size=s.size,this}ce.prototype.clear=Yn,ce.prototype.delete=Qn,ce.prototype.get=Jn,ce.prototype.has=Zn,ce.prototype.set=er;function tr(t,r){var s=He(t),x=!s&&Be(t),I=!s&&!x&&Tt(t),M=!s&&!x&&!I&&At(t),D=s||x||I||M,C=D?En(t.length,String):[],L=C.length;for(var K in t)D&&(K=="length"||I&&(K=="offset"||K=="parent")||M&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||St(K,L))||C.push(K);return C}function Ne(t,r,s){(s!==void 0&&!Pe(t[r],s)||s===void 0&&!(r in t))&&je(t,r,s)}function nr(t,r,s){var x=t[r];(!(Z.call(t,r)&&Pe(x,s))||s===void 0&&!(r in t))&&je(t,r,s)}function ye(t,r){for(var s=t.length;s--;)if(Pe(t[s][0],r))return s;return-1}function je(t,r,s){r=="__proto__"&&be?be(t,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[r]=s}var rr=mr();function Ee(t){return t==null?t===void 0?_:b:ne&&ne in Object(t)?wr(t):Sr(t)}function yt(t){return pe(t)&&Ee(t)==d}function or(t){if(!oe(t)||yr(t))return!1;var r=Xe(t)?In:vn;return r.test(Ar(t))}function sr(t){return pe(t)&&_t(t.length)&&!!R[Ee(t)]}function ir(t){if(!oe(t))return Er(t);var r=Pt(t),s=[];for(var x in t)x=="constructor"&&(r||!Z.call(t,x))||s.push(x);return s}function Et(t,r,s,x,I){t!==r&&rr(r,function(M,D){if(I||(I=new ce),oe(M))ar(t,r,D,s,Et,x,I);else{var C=x?x($e(t,D),M,D+"",t,r,I):void 0;C===void 0&&(C=M),Ne(t,D,C)}},Ot)}function ar(t,r,s,x,I,M,D){var C=$e(t,s),L=$e(r,s),K=D.get(L);if(K){Ne(t,s,K);return}var H=M?M(C,L,s+"",t,r,D):void 0,he=H===void 0;if(he){var Ue=He(L),Ke=!Ue&&Tt(L),Ct=!Ue&&!Ke&&At(L);H=L,Ue||Ke||Ct?He(C)?H=C:Or(C)?H=pr(C):Ke?(he=!1,H=ur(L)):Ct?(he=!1,H=dr(L)):H=[]:Ir(L)||Be(L)?(H=C,Be(C)?H=Cr(C):(!oe(C)||Xe(C))&&(H=vr(L))):he=!1}he&&(D.set(L,H),I(H,L,x,M,D),D.delete(L)),Ne(t,s,H)}function cr(t,r){return Tr(Pr(t,r,It),t+"")}var lr=be?function(t,r){return be(t,"toString",{configurable:!0,enumerable:!1,value:Mr(r),writable:!0})}:It;function ur(t,r){return t.slice()}function fr(t){var r=new t.constructor(t.byteLength);return new mt(r).set(new mt(t)),r}function dr(t,r){var s=fr(t.buffer);return new t.constructor(s,t.byteOffset,t.length)}function pr(t,r){var s=-1,x=t.length;for(r||(r=Array(x));++s<x;)r[s]=t[s];return r}function hr(t,r,s,x){var I=!s;s||(s={});for(var M=-1,D=r.length;++M<D;){var C=r[M],L=void 0;L===void 0&&(L=t[C]),I?je(s,C,L):nr(s,C,L)}return s}function gr(t){return cr(function(r,s){var x=-1,I=s.length,M=I>1?s[I-1]:void 0,D=I>2?s[2]:void 0;for(M=t.length>3&&typeof M=="function"?(I--,M):void 0,D&&xr(s[0],s[1],D)&&(M=I<3?void 0:M,I=1),r=Object(r);++x<I;){var C=s[x];C&&t(r,C,x,M)}return r})}function mr(t){return function(r,s,x){for(var I=-1,M=Object(r),D=x(r),C=D.length;C--;){var L=D[++I];if(s(M[L],L,M)===!1)break}return r}}function Se(t,r){var s=t.__data__;return br(r)?s[typeof r=="string"?"string":"hash"]:s.map}function Fe(t,r){var s=Pn(t,r);return or(s)?s:void 0}function wr(t){var r=Z.call(t,ne),s=t[ne];try{t[ne]=void 0;var x=!0}catch{}var I=ht.call(t);return x&&(r?t[ne]=s:delete t[ne]),I}function vr(t){return typeof t.constructor=="function"&&!Pt(t)?Dn(wt(t)):{}}function St(t,r){var s=typeof t;return r=r??f,!!r&&(s=="number"||s!="symbol"&&xn.test(t))&&t>-1&&t%1==0&&t<r}function xr(t,r,s){if(!oe(s))return!1;var x=typeof r;return(x=="number"?qe(s)&&St(r,s.length):x=="string"&&r in s)?Pe(s[r],t):!1}function br(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function yr(t){return!!pt&&pt in t}function Pt(t){var r=t&&t.constructor,s=typeof r=="function"&&r.prototype||we;return t===s}function Er(t){var r=[];if(t!=null)for(var s in Object(t))r.push(s);return r}function Sr(t){return ht.call(t)}function Pr(t,r,s){return r=xt(r===void 0?t.length-1:r,0),function(){for(var x=arguments,I=-1,M=xt(x.length-r,0),D=Array(M);++I<M;)D[I]=x[r+I];I=-1;for(var C=Array(r+1);++I<r;)C[I]=x[I];return C[r]=s(D),yn(t,this,C)}}function $e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}var Tr=_r(lr);function _r(t){var r=0,s=0;return function(){var x=Rn(),I=l-(x-s);if(s=x,I>0){if(++r>=c)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}function Ar(t){if(t!=null){try{return ve.call(t)}catch{}try{return t+""}catch{}}return""}function Pe(t,r){return t===r||t!==t&&r!==r}var Be=yt(function(){return arguments}())?yt:function(t){return pe(t)&&Z.call(t,"callee")&&!Cn.call(t,"callee")},He=Array.isArray;function qe(t){return t!=null&&_t(t.length)&&!Xe(t)}function Or(t){return pe(t)&&qe(t)}var Tt=Mn||Rr;function Xe(t){if(!oe(t))return!1;var r=Ee(t);return r==h||r==v||r==w||r==A}function _t(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=f}function oe(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}function pe(t){return t!=null&&typeof t=="object"}function Ir(t){if(!pe(t)||Ee(t)!=y)return!1;var r=wt(t);if(r===null)return!0;var s=Z.call(r,"constructor")&&r.constructor;return typeof s=="function"&&s instanceof s&&ve.call(s)==On}var At=dt?Sn(dt):sr;function Cr(t){return hr(t,Ot(t))}function Ot(t){return qe(t)?tr(t):ir(t)}var zr=gr(function(t,r,s){Et(t,r,s)});function Mr(t){return function(){return t}}function It(t){return t}function Rr(){return!1}e.exports=zr})(Ce,Ce.exports);var us=Ce.exports;const fs=Vt(us),ie=(e,n,a=!0)=>o=>{const{...c}=o;return c[e]&&(a?c[e]=fs(c[e],n):c[e]={...c[e],...n}),c},ds=(e,n,a)=>o=>{if(n)return ie(e,{closing:n})(o);const{[e]:c,...l}=o;return c&&c.process&&a&&a(c.process.pid,e),l},ps=e=>n=>{var o;const a=!((o=n[e])!=null&&o.maximized);if(a){const{componentWindow:c}=n[e];requestAnimationFrame(()=>c==null?void 0:c.focus(Re))}return ie(e,{maximized:a})(n)},hs=e=>n=>{var a;return ie(e,{minimized:!((a=n[e])!=null&&a.minimized)})(n)},gs=(e,n)=>a=>ie(e,{icon:n})(a),ms=(e,n)=>a=>ie(e,{title:n})(a),ws=(e,n,a)=>o=>ie(e,{[n]:a})(o),vs=(e,n)=>a=>{let o;return tt.isValidElement(n.Component)?o=()=>n.Component:o=n.Component,{...a,[e]:{...n,id:e,Component:o}}},xs=()=>{const[e,n]=z(Object.create(null)),[a,o]=z([]),{addWindowIDToProcess:c,removeWindowIDFromProcess:l}=st(),{events:f,actions:d}=me(),g=S((b,y)=>n(ds(b,y,l)),[l]),w=S((b,y,A)=>n(ws(b,y,A)),[]),i=S((b,y)=>n(gs(b,y)),[]),u=S((b,y)=>n(ie(b,{snap:y})),[]),p=S(b=>n(ps(b)),[]),h=S(b=>n(hs(b)),[]),v=S((b,y)=>n(ms(b,y)),[]),E=S(b=>{const y=nn().toString();n(vs(y,b)),o(W=>[...W,y]),b.process&&b.process.pid&&c(b.process.pid,y);const{Component:A,...N}=b;return f.emit("event:windows/new_window",{id:y,...N}),y},[c,f]),P=S(b=>{g(b,!0),window.setTimeout(()=>{g(b),f.emit("event:windows/close",b)},ge.WINDOW),f.emit("event:windows/close_transition",b)},[g,f]);return F(()=>{const b=[d.on("action:windows/create_window",E)];return()=>{b.forEach(d.removeListenerByID)}},[d,E]),F(()=>{const b=[d.on("action:windows/close",g),d.on("action:windows/close_transition",P)];return()=>{b.forEach(d.removeListenerByID)}},[d,P,g]),{linkElement:w,closeWithTransition:P,maximize:p,minimize:h,setSnap:u,createWindow:E,close:g,icon:i,title:v,windows:e}},{Provider:bs,useContext:le}=Y(xs),ys=({rd_window_id:e,id:n})=>{const{icon:a,title:o,closeWithTransition:c,windows:{[n]:l}}=le(),{events:f}=me(),d=q(Ie()),g=d.current,w=S(h=>a(e,h),[a,e]),i=S(h=>o(e,h),[o,e]),u=S(()=>c(e),[e,c]),p=G(()=>({id:e,setWindowIcon:w,setWindowTitle:i,close:u,Events:d.current}),[e,w,i,u]);return F(()=>{const v=[{rdEvent:`event:windows/resize:${e}`,localEvent:"event:window/resize"},{rdEvent:`event:windows/resize_start:${e}`,localEvent:"event:window/resize_start"},{rdEvent:`event:windows/resize_stop:${e}`,localEvent:"event:window/resize_stop"},{rdEvent:`event:windows/drag:${e}`,localEvent:"event:window/drag"},{rdEvent:`event:windows/drag_start:${e}`,localEvent:"event:window/drag_start"},{rdEvent:`event:windows/drag_stop:${e}`,localEvent:"event:window/drag_stop"},{rdEvent:`event:windows/focus:${e}`,localEvent:"event:window/focus"},{rdEvent:`event:windows/unfocus:${e}`,localEvent:"event:window/unfocus"}].map(({rdEvent:E,localEvent:P})=>f.on(E,(...b)=>g.emit(P,...b)));return()=>{v.forEach(E=>f.removeListenerByID(E))}},[f,g,e]),p},{Provider:Es,useContext:Ss}=Y(ys),Ps=e=>{const[n,a]=z(!1),[o,c]=z(""),[l,f]=z([]),[d,g]=z(Gt),[w,i]=z(Vr),[u,p]=z(""),[h,v]=z(Object.create(null)),[E,P]=z(Yr),[b,y]=z(Gr),A=S(j=>f($=>$[0]===j?$:[j,...$.filter(U=>U!==j)]),[]),N=S(j=>f($=>$.filter(U=>U!==j)),[]),W=S((j,$)=>{$&&P($),y(j)},[]),[T,_]=z(!1),O=q(0);return F(()=>{if(!O.current&&n&&!T){const j=()=>{};"requestIdleCallback"in window&&typeof window.requestIdleCallback=="function"&&requestIdleCallback(j)}},[w,u,T,n,d,E,b,h]),{clockSource:w,cursor:u,foregroundId:o,prependToStack:A,removeFromStack:N,stackOrder:l,themeName:d,wallpaperFit:E,wallpaperImage:b,windowStates:h,sessionLoaded:n,setClockSource:i,setCursor:p,setForegroundId:c,setHaltSession:_,setThemeName:g,setWallpaper:W,setWindowStates:v}},{Provider:Ts,useContext:it}=Y(Ps),_s=()=>{const{createProcess:e}=st(),{createWindow:n,maximize:a}=le(),o=S(l=>{},[]),c=S(l=>{const{name:f,icon:d,...g}=l,w=e({name:f,icon:d});if((g.showWindow||g.windowContent)&&g.windowContent){let i;tt.isValidElement(g.windowContent)?i=()=>g.windowContent:i=g.windowContent;let u={icon:d,title:f,Component:i,process:{pid:w}};g.windowConfig&&(u={...u,...g.windowConfig}),n(u)}},[e,n,a]);return{openAppByName:o,openApp:c}},{Provider:As,useContext:Os}=Y(_s),Is=()=>{const{processes:e}=st();return m(ze,{children:Object.entries(e).map(([n,{Component:a}])=>n&&a&&m(a,{},n))})},Cs="modulepreload",zs=function(e){return"/"+e},Ft={},at=function(n,a,o){let c=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),f=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));c=Promise.all(a.map(d=>{if(d=zs(d),d in Ft)return;Ft[d]=!0;const g=d.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const i=document.createElement("link");if(i.rel=g?"stylesheet":Cs,g||(i.as="script",i.crossOrigin=""),i.href=d,f&&i.setAttribute("nonce",f),document.head.appendChild(i),g)return new Promise((u,p)=>{i.addEventListener("load",u),i.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}return c.then(()=>n()).catch(l=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=l,window.dispatchEvent(f),!f.defaultPrevented)throw l})},Ms={background:"#000",fileEntry:{background:"hsla(207, 30%, 72%, 25%)",backgroundFocused:"hsla(207, 60%, 72%, 35%)",backgroundFocusedHover:"hsla(207, 90%, 72%, 30%)",border:"hsla(207, 30%, 72%, 30%)",borderFocused:"hsla(207, 60%, 72%, 35%)",borderFocusedHover:"hsla(207, 90%, 72%, 40%)",text:"#FFF",textShadow:`
      0 0 1px rgba(0, 0, 0, 75%),
      0 0 2px rgba(0, 0, 0, 50%),

      0 1px 1px rgba(0, 0, 0, 75%),
      0 1px 2px rgba(0, 0, 0, 50%),

      0 2px 1px rgba(0, 0, 0, 75%),
      0 2px 2px rgba(0, 0, 0, 50%)`},highlight:"hsla(207, 100%, 72%, 90%)",progress:"hsla(113, 78%, 56%, 90%)",progressBackground:"hsla(104, 22%, 45%, 70%)",progressBarRgb:"rgb(6, 176, 37)",selectionHighlight:"hsla(207, 100%, 45%, 90%)",selectionHighlightBackground:"hsla(207, 100%, 45%, 30%)",taskbar:{active:"hsla(0, 0%, 20%, 70%)",activeForeground:"hsla(0, 0%, 40%, 70%)",background:"hsla(0, 0%, 10%, 70%)",button:{color:"#FFF"},foreground:"hsla(0, 0%, 35%, 70%)",foregroundHover:"hsla(0, 0%, 45%, 70%)",foregroundProgress:"hsla(104, 22%, 45%, 30%)",hover:"hsla(0, 0%, 25%, 70%)",peekBorder:"hsla(0, 0%, 50%, 50%)"},text:"rgba(255, 255, 255, 90%)",titleBar:{background:"rgb(0, 0, 0)",backgroundHover:"rgb(26, 26, 26)",backgroundInactive:"rgb(40, 40, 40)",buttonInactive:"rgb(128, 128, 128)",closeHover:"rgb(232, 17, 35)",text:"rgb(255, 255, 255)",textInactive:"rgb(170, 170, 170)"},window:{background:"#808080",outline:"hsla(0, 0%, 25%, 75%)",outlineInactive:"hsla(0, 0%, 30%, 100%)",shadow:"0 0 14px 0 rgba(0, 0, 0, 50%)",shadowInactive:"0 0 10px 0 rgba(0, 0, 0, 45%)"}},Rs={dateModified:{hour:"numeric",hour12:!0,minute:"2-digit"}},Ds={calendar:{maxHeight:357},clock:{fontSize:"12px",padding:5},contextMenu:{subMenuOffset:3},fileEntry:{fontSize:"12px",iconSize:"48px",maxIconTextDisplayWidth:72,maxListTextDisplayWidth:102,renamePadding:5,renameWidth:75},fileExplorer:{navBarHeight:"38px",navInputHeight:24,statusBarHeight:"23px"},fileManager:{columnGap:"1px",gridEntryHeight:"70px",gridEntryWidth:"74px",padding:"5px 0",rowGap:"28px"},search:{headerHeight:52,inputHeight:40,maxHeight:415,size:600},startMenu:{maxHeight:390,sideBar:{buttonHeight:48,expandedWidth:"228px",iconSize:"16px",width:48},size:320},taskbar:{blur:"5px",button:{iconSize:"15px",width:36},entry:{borderSize:"2px",fontSize:"12px",iconSize:"24px",maxWidth:"160px",peekControlsHeight:36,peekImage:{height:82,margin:8}},panelBlur:"12px"},titleBar:{buttonIconWidth:"10px",buttonWidth:"45px",fontSize:"12px",height:30,iconMarginRight:"4px",iconSize:"16px"},window:{cascadeOffset:26,outline:"1px"}},fn={name:"Win11",systemFont:`-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",
    sans-serif`,colors:Ms,formats:Rs,sizes:Ds},Ls={...fn},$t={win11:fn,macOS:Ls},Ws=async()=>(await at(async()=>{const{default:e}=await import("./motionFeatures-4jqR_Xp7.js");return{default:e}},[])).default,ks=({children:e})=>{const{themeName:n}=it();return m(Br,{theme:$t[n]||$t[Gt],children:m(qr,{features:Ws,strict:!0,children:e})})},Ns=X(ks),js=B.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  position: relative;
  background-color: #000;
  font-family: ${({theme:e})=>e.systemFont};
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  text-size-adjust: none;
  inset: 0px;
  overflow: hidden;
  overscroll-behavior: none;
  
  &,
  &::before,
  &::after {
    border: 0px;
    box-sizing: border-box;
    font-variant-numeric: tabular-nums;
    margin: 0px;
    outline: 0px;
    padding: 0px;
    text-rendering: optimizelegibility;
  }
`,Fs={bottom:["win11taskbar"]},$s={bottom:["macos-dock"]},Bs=B("div")`
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 0;
  background-image: url(${e=>e.$imgSrc});
  background-color: var(--wintheme);
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
  transition: all 0.2s ease;
`,Hs=()=>{const{wallpaperImage:e}=it();return m(Bs,{"data-rd-type":"rd_wallpaper_image",$imgSrc:e})},qs=X(Hs),Xs=B.div`
  width: 100%;
  height: 100%;
  flex-grow: 1;
`,Us=()=>m(Xs,{className:"rd_desktop"}),Ks=B.div`
  width: 100%;
  height: 100%;
  position: absolute;
  overflow: hidden;
  top: 0; 
  left: 0;
`,Vs=Xt(()=>at(()=>import("./index-B5vbnELA.js"),__vite__mapDeps([0,1,2]))),Gs=({Component:e,id:n})=>{const a=G(()=>({rd_window_id:n,id:n}),[n]),o=G(()=>m(e,{...a}),[e,a]);return m(Es,{rd_window_id:n,id:n,children:m(Vs,{id:n,children:o})})},Ys=X(Gs),Qs=()=>{const{windows:e={}}=le(),{linkElement:n}=on(),a=S(o=>{o&&n("WindowsViewArea",o)},[n]);return m(Ks,{ref:a,className:"rd_windows_renderer",children:m(nt,{initial:!1,presenceAffectsLayout:!1,children:Object.entries(e).map(([o,{closing:c,Component:l}])=>o&&l&&!c&&m(Ys,{id:o,Component:l},o))})})},Js=X(Qs),Zs=B.div`
position: relative;
width: 100%;
height: 100%;
flex-grow: 1;
`,ei=({...e})=>V(Zs,{"data-rd-type":"rd_mainview",...e,children:[m(Js,{}),m(Us,{})]}),ti=B.nav`
  ${De}
  backdrop-filter: saturate(3) blur(22px);
  background-color: rgba(32, 32, 32, .75);
  width: 100%;
  height: ${Zt}px;
  contain: size layout;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  z-index: 1003;
`,ni="data:image/png;base64,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",ri=B.figure`
  align-items: center;
  display: flex;
  justify-items: center;
  justify-content: center;
  position: relative;
  
  picture {
    width: 24px;
    height: 24px;
  }`,oi=X(()=>m(ri,{children:m(an,{alt:"Start",imgSize:24,src:ni})})),si=B(sn)`
  background-color: ${({$active:e,$highlight:n,theme:a})=>e&&(n?a.colors.taskbar.foreground:"hsla(0, 0%, 25%, 50%)")};
  display: flex;
  fill: ${({theme:e})=>e.colors.taskbar.button.color};
  height: 100%;   
  place-content: center;
  place-items: center;

  && {
    width: ${({theme:e})=>e.sizes.taskbar.button.width}px;
  }

  svg {
    height: ${({theme:e})=>e.sizes.taskbar.button.iconSize};
  }

  &:hover {
    background-color: ${({$active:e,theme:n})=>e?n.colors.taskbar.foreground:n.colors.taskbar.hover};

    svg {
      fill: ${({$highlight:e,theme:n})=>e?n.colors.highlight:void 0};
    }
  }

  &:active {
    background-color: hsla(0, 0%, 20%, 70%);

    svg {
      fill: ${({$highlight:e})=>e?"hsla(207, 100%, 60%, 80%)":void 0};
    }
  }
`,ii="Start",ai=()=>{const{windows:e}=le(),n=q({});return F(()=>{n.current=e},[e]),n},dn=(e=!1)=>{const{contextMenu:n}=un(),{minimize:a}=le(),{stackOrder:o}=it(),c=ai(),{fullscreenElement:l,toggleFullscreen:f}=To(),d=(...g)=>{};return G(()=>n==null?void 0:n(()=>{const g=Object.entries(c.current),i=g.length>0&&!g.some(([,{minimized:p}])=>!p)?"Show open windows":"Show the desktop",u=[{action:()=>po(c.current,o,a),label:e?"Desktop":i}];return e?u.unshift({action:()=>d("Terminal"),label:"Terminal"},Ve,{action:()=>d("FileExplorer"),label:"File Explorer"},{action:()=>d("Run"),label:"Run"},Ve):u.unshift({action:()=>f(),label:l===document.documentElement?"Exit full screen":"Enter full screen"},Ve),u}),[n,l,a,e,d,c,o,f])},ci=({startMenuVisible:e,toggleStartMenu:n})=>{const[a,o]=z(!1),c=q(!1),l=S(async()=>{if(c.current)return;c.current=!0;const d=Object.prototype.hasOwnProperty.call(HTMLLinkElement.prototype,"imageSrcset"),g=[...document.querySelectorAll("link[rel=preload]")],w=[];w==null||w.forEach(i=>{const u=document.createElement("link");if(u.as="image",u.fetchPriority="high",u.rel="preload",u.type="image/webp",rn(i))if(d)u.imageSrcset=en(i,48,".webp");else{const[p]=se(i,48,fo(),".webp").split(" ");u.href=p}else u.href=i;g.some(p=>{var h,v;return u.imageSrcset&&((h=p==null?void 0:p.imageSrcset)==null?void 0:h.endsWith(u.imageSrcset))||u.href&&((v=p==null?void 0:p.href)==null?void 0:v.endsWith(u.href))})||document.head.append(u)}),o(!0)},[]),f=S(async({ctrlKey:d,shiftKey:g})=>{a||l(),n()},[l,a,n]);return m(si,{$active:e,onClick:f,onMouseOver:a?void 0:l,$highlight:!0,"data-rd-type":"rd_start_button",...Yt,...xo(ii),...dn(!0),children:m(oi,{})})},li=B.ol`
  column-gap: 1px;
  display: flex;
  height: 100%;
  margin: 0 3px;
  padding: 0px;
  position: relative;
  overflow: hidden;
  justify-items: center;
  justify-content: center;
`,ui=({config:e})=>{const[n,a]=z([]),{openApp:o}=Os(),c=G(()=>e==null?void 0:e.applications,[e.applications]),l=S(f=>{a(d=>{const g=new Map(f.map(u=>[u.name,u])),w=d.map(u=>{const p=g.get(u.name);return p?(console.log("Updating existing app:",u.name),p):u}),i=f.filter(u=>!d.some(p=>p.name===u.name));return i.forEach((u,p)=>{u.runOnStart&&(console.log("Running on start:",u.name),setTimeout(()=>o(u),p*1e3))}),[...w,...i]})},[o]);return F(()=>{c&&l(c)},[c,l]),{applications:n}},{Provider:fi,useContext:di}=Y(ui),pi=Xt(()=>at(()=>import("./index-Bo_0AlUO.js").then(e=>e.i),__vite__mapDeps([3,2]))),hi=B.div`
  display: flex;
  min-width: 0;
  overflow: hidden;
  place-content: center;
  position: relative;
  cursor: default;
`,gi=({clockWidth:e})=>{const{windows:n}=le(),{applications:a}=di(),[o,c]=z([]),[l,f]=z(new Map);F(()=>{const w=Object.keys(n).map(u=>({type:"window",windowID:u}));c(w);const i=new Map;Object.keys(n).forEach((u,p)=>{i.set(u,p)}),f(i)},[]),F(()=>{c(w=>{const i=Object.keys(n),u=w.filter(h=>i.includes(h.windowID));return i.filter(h=>!u.some(v=>v.windowID===h)).forEach(h=>{u.push({type:"window",windowID:h}),f(v=>{const E=new Map(v);return E.set(h,u.length-1),E})}),u.sort((h,v)=>(l.get(h.windowID)??0)-(l.get(v.windowID)??0)),u})},[n,l]);const d=w=>{if(!w.destination)return;const i=Array.from(o),[u]=i.splice(w.source.index,1);i.splice(w.destination.index,0,u),c(i);const p=new Map;i.forEach((h,v)=>{p.set(h.windowID,v)}),f(p)},g=G(()=>a.filter(w=>!!w.taskbarPin),[a]);return F(()=>{console.log({pinnedApps:g.length})},[g]),m(Xr,{onDragEnd:d,children:m(Ur,{droppableId:"droppable",direction:"horizontal",children:w=>V(li,{$clockWidth:e,ref:w.innerRef,...w.droppableProps,children:[m(nt,{initial:!1,presenceAffectsLayout:!1,children:o.map((i,u)=>{const{windowID:p}=i,h=n[p];if(h&&!h.closing&&!h.hideTaskbarEntry){const{icon:v,title:E}=h;return m(Kr,{draggableId:p,index:u,children:(P,b)=>m(hi,{ref:P.innerRef,...P.draggableProps,...P.dragHandleProps,style:{userSelect:"none",...P.draggableProps.style,...b.isDragging&&{position:"fixed",left:P.draggableProps.style.left,top:void 0,transform:P.draggableProps.style.transform}},children:m(pi,{icon:v,id:p,title:E},p)})},p)}return null})}),w.placeholder]})})})},mi=X(gi),Qe=B.div`
  max-width: 100%;
  display: flex;
  ${e=>e.$grow&&"flex-grow: 1;"}
`,wi=()=>{const[e,n]=z(!1),[a,o]=z(Qr),c=S(l=>n(f=>l??!f),[]);return V(ze,{children:[V(ti,{"data-rd-type":"rd_win11_taskbar",...dn(),...Me,children:[m(Qe,{"data-rd-type":"rd_taskbar_section"}),V(Qe,{"data-rd-type":"rd_taskbar_section",children:[m(ci,{startMenuVisible:e,toggleStartMenu:c}),m(mi,{clockWidth:a})]}),m(Qe,{"data-rd-type":"rd_taskbar_section"})]}),m(nt,{initial:!1,presenceAffectsLayout:!1})]})},Bt=X(wi),vi={win11:Fs,macos:$s},Ht={win11taskbar:Bt,macOSDock:Bt},xi=()=>{const[e,n]=z(vi.win11),a=S(()=>e.top?e.top.map((c,l)=>{const f=Ht[c];return m(f,{},`top-${l}`)}):null,[e.top]),o=S(()=>e.bottom?e.bottom.map((c,l)=>{const f=Ht[c];return m(f,{},`top-${l}`)}):null,[e.bottom]);return V(ze,{children:[a(),m(ei,{}),m(qs,{}),o()]})},bi=tt.memo(xi),yi=({config:e})=>(z([]),F(()=>{},[e]),m(ze,{})),qt=({onFocus:e,onUnfocus:n,onBlur:a,onResize:o,onResizeStart:c,onResizeStop:l,onPositionChange:f,onDrag:d,onDragStart:g,onDragStop:w,children:i})=>{const{events:u}=me(),{Events:p,id:h}=Ss(),v=G(()=>n||a,[n,a]),E=S(()=>{v&&v()},[v]),P=S(()=>{e&&e()},[e]),b=S(_=>{o&&o(_)},[o]),y=S(_=>{c&&c(_)},[c]),A=S(_=>{l&&l(_)},[l]);S(_=>{f&&f(_)},[f]);const N=S(_=>{d&&d(_)},[d]),W=S(_=>{g&&g(_)},[g]),T=S(_=>{w&&w(_)},[w]);return F(()=>{const _=[u.on(`event:windows/resize:${h}`,({size:O})=>b(O)),u.on(`event:windows/resize_start:${h}`,({size:O})=>y(O)),u.on(`event:windows/resize_stop:${h}`,({size:O})=>A(O)),u.on(`event:windows/drag:${h}`,({position:O})=>N(O)),u.on(`event:windows/drag_start:${h}`,({position:O})=>W(O)),u.on(`event:windows/drag_stop:${h}`,({position:O})=>T(O)),u.on(`event:windows/focus:${h}`,()=>P()),u.on(`event:windows/unfocus:${h}`,()=>E())];return()=>{_.forEach(u.removeListenerByID)}},[h,u,p,b,A,N,W,T,y,P,E]),i},Ei=e=>{const n=G(()=>e.config?e.config:e,[e]);return F(()=>()=>{},[]),m(Uo,{children:m(Po,{children:m(Ts,{children:m(ls,{children:m(bs,{children:m(As,{children:m(fi,{config:n,children:m(Vo,{children:m(Ns,{children:m(js,{"data-rd-type":"rd_main",children:V(ss,{children:[m(yi,{config:n}),m(Is,{}),m(bi,{})]})})})})})})})})})})})},Si=m(Ei,{applications:[{name:"Arashi",windowContent:m(qt,{children:m("h1",{children:"Hey"})}),taskbarPin:!0,runOnStart:!0,windowConfig:{snap:{type:"twoColumns",index:0,widthPercent:70,heightPercent:100}}},{name:"Kaki",windowContent:m(qt,{children:m("h1",{children:"Hey There"})}),taskbarPin:!0,runOnStart:!0,windowConfig:{snap:{type:"twoColumns",index:1,widthPercent:30,heightPercent:100}}}]});Je.createRoot(document.getElementById("root")).render(Si);export{sn as B,Yt as D,Me as F,Wi as H,an as I,Di as L,Ve as M,eo as O,Re as P,to as T,Zt as W,at as _,le as a,ai as b,un as c,De as d,Ri as e,Dt as f,Ni as g,Ze as h,tn as i,mo as j,me as k,xo as l,on as m,qo as n,ki as o,Wt as p,Oe as q,Mi as r,ge as s,Li as t,it as u,wo as v};
