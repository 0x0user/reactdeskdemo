import{a3 as Q,a4 as u,ay as S,Y as M,ar as U,au as b,az as h}from"./index-BkeddzzV.js";const O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAABnRSTlMAAAAAAABupgeRAAAAMElEQVR4AWMgEoyC2TCAwsYPFqMCouzZCQPEOmzvnj0QRJTqo6iAgOoLMIDCHsYAACjTO7/gCQlBAAAAAElFTkSuQmCC",F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAR0lEQVR42u3IoRHAMAzFUO+/gllKG5IgD2DujX4vC8ikMO9ORHb9xN1FWWc8Q5R15jt1gs/22jrBZxGhE3yWmaKsU1Wi7EIfHneIsXEKuhAAAAAASUVORK5CYII=",z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAHklEQVR42mOgEhgFnp6e//Fh+hmALj5UDBj4QBwFANQKUXn4YyGJAAAAAElFTkSuQmCC",x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAIUlEQVR42mMYPGAUjIIDBw78x4cJGnDu3Ln/+DB+3aMAAPFzNUFuAVJEAAAAAElFTkSuQmCC",w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGElEQVR42mMYPGAUjAJPT8//+DCNDRgFAPTaHaFVv24VAAAAAElFTkSuQmCC",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAABnRSTlMAAAAAAABupgeRAAAAOklEQVR4AWMYVmA2BiBN/6JFi3DKrcUAEEGcGnZiAIggTg1HwQCNDSSpp+H8hQtoiECAXMcADMMbAABMtF75qvi0qwAAAABJRU5ErkJggg==",V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAJElEQVR42mNABaPA09PzPzZMsaFk20x/A2D8gTIAE9Mp+kYBAJPzT5+OMe9rAAAAAElFTkSuQmCC",d=A=>{const{stackOrder:n=[]}=Q(),{windows:e}=u();return n.find(o=>{var i;return o!==A&&!((i=e==null?void 0:e[o])!=null&&i.minimized)})||""},f=A=>{const n=d(A),{setForegroundId:e,removeFromStack:a}=Q(),{closeWithTransition:o,maximize:i,minimize:l,setSnap:s}=u(),t=S(),m=M.useCallback(g=>{l(A),s(A,!1),g||e(n)},[A,l,s,n,e]),c=M.useCallback(()=>{var R,r;const g=()=>{var B,I;i(A),e(A),(I=(B=t.current[A])==null?void 0:B.componentWindow)==null||I.focus(U),s(A,!1)},[C]=((r=(R=t.current[A])==null?void 0:R.componentWindow)==null?void 0:r.getAnimations())||[];C!=null&&C.finished?C.finished.then(g):g()},[A,s,i,t,e]);return{onClose:M.useCallback(()=>{a(A),o(A),e(n)},[o,A,n,a,e]),onMaximize:c,onMinimize:m}},D=A=>{const{contextMenu:n}=b(),{onClose:e,onMaximize:a,onMinimize:o}=f(A),{windows:{[A]:i}}=u(),{allowResizing:l=!0,hideMaximizeButton:s,hideMinimizeButton:t,maximized:m,minimized:c}=i||{};return M.useMemo(()=>n==null?void 0:n(()=>{const E=m||c,g=!s||!t;return[g&&{action:()=>{c?o():a()},disabled:!E,icon:E?T:V,label:"Restore"},!t&&{action:o,disabled:c,icon:c?w:x,label:"Minimize"},!s&&{action:a,disabled:E||!l,icon:E?z:F,label:"Maximize"},g&&h,{action:e,icon:O,label:"Close"}].filter(Boolean)}),[l,n,s,t,m,c,e,a,o])};export{D as a,f as b,d as u};
